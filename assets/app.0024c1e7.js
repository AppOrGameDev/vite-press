var i3=Object.defineProperty;var l3=(s,t,e)=>t in s?i3(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var d=(s,t,e)=>(l3(s,typeof t!="symbol"?t+"":t,e),e);import{d as B,f as D,e as c3,h as K,v as h3,o as L,c as A,x as c,n as C,b as l,t as P,A as F,a3 as R,C as G,z as u3,F as Z,M as d3,T as m3,Y as U,_ as J,a4 as v3,u as Q,i as p3,a5 as t3,a6 as g3,K as V,a7 as f3,l as w3,a8 as b3,a9 as M3,aa as _3,ab as y3,ac as x3,ad as z3,ae as C3,af as T3,ag as L3,ah as A3,ai as I3,aj as k3,H as E3}from"./chunks/framework.bf331dd6.js";import{t as q}from"./chunks/theme.02254b3b.js";const P3=({src:s,filename:t})=>{const e=document.createElement("a");e.download=t??`vite-press_${Date.now()}.${s.split(".").pop()}`,e.setAttribute("href",s),e.setAttribute("style","display: none;"),document.body.appendChild(e),e.click(),document.body.removeChild(e)},S3={mounted(s,{value:t}){s.onclick=()=>P3(t)},beforeUnmount(s){s.onclick=()=>{}}};function S(s,t,e){let o=s;return t&&(o+=`__${t}`),e&&(o+=`--${e}`),o}function H3(s,t=!1){const e=t?`.VPDoc-${s}`:`VPDoc-${s}`;return{b:()=>S(e),e:i=>i?S(e,i):"",m:i=>i?S(e,"",i):"",em:(i,u)=>i&&u?S(e,i,u):""}}const y={close:'<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path d="M556.8 512L832 236.8c12.8-12.8 12.8-32 0-44.8-12.8-12.8-32-12.8-44.8 0L512 467.2l-275.2-277.333333c-12.8-12.8-32-12.8-44.8 0-12.8 12.8-12.8 32 0 44.8l275.2 277.333333-277.333333 275.2c-12.8 12.8-12.8 32 0 44.8 6.4 6.4 14.933333 8.533333 23.466666 8.533333s17.066667-2.133333 23.466667-8.533333L512 556.8 787.2 832c6.4 6.4 14.933333 8.533333 23.466667 8.533333s17.066667-2.133333 23.466666-8.533333c12.8-12.8 12.8-32 0-44.8L556.8 512z" fill="currentColor"></path></svg>',left:'<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path d="M384 512L731.733333 202.666667c17.066667-14.933333 19.2-42.666667 4.266667-59.733334-14.933333-17.066667-42.666667-19.2-59.733333-4.266666l-384 341.333333c-10.666667 8.533333-14.933333 19.2-14.933334 32s4.266667 23.466667 14.933334 32l384 341.333333c8.533333 6.4 19.2 10.666667 27.733333 10.666667 12.8 0 23.466667-4.266667 32-14.933333 14.933333-17.066667 14.933333-44.8-4.266667-59.733334L384 512z" fill="currentColor"></path></svg>',right:'<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path d="M731.733333 480l-384-341.333333c-17.066667-14.933333-44.8-14.933333-59.733333 4.266666-14.933333 17.066667-14.933333 44.8 4.266667 59.733334L640 512 292.266667 821.333333c-17.066667 14.933333-19.2 42.666667-4.266667 59.733334 8.533333 8.533333 19.2 14.933333 32 14.933333 10.666667 0 19.2-4.266667 27.733333-10.666667l384-341.333333c8.533333-8.533333 14.933333-19.2 14.933334-32s-4.266667-23.466667-14.933334-32z" fill="currentColor"></path></svg>',zoomOut:'<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path d="M945.066667 898.133333l-189.866667-189.866666c55.466667-64 87.466667-149.333333 87.466667-241.066667 0-204.8-168.533333-373.333333-373.333334-373.333333S96 264.533333 96 469.333333 264.533333 842.666667 469.333333 842.666667c91.733333 0 174.933333-34.133333 241.066667-87.466667l189.866667 189.866667c6.4 6.4 14.933333 8.533333 23.466666 8.533333s17.066667-2.133333 23.466667-8.533333c8.533333-12.8 8.533333-34.133333-2.133333-46.933334zM469.333333 778.666667C298.666667 778.666667 160 640 160 469.333333S298.666667 160 469.333333 160 778.666667 298.666667 778.666667 469.333333 640 778.666667 469.333333 778.666667z" fill="currentColor"></path><path d="M597.333333 437.333333H341.333333c-17.066667 0-32 14.933333-32 32s14.933333 32 32 32h256c17.066667 0 32-14.933333 32-32s-14.933333-32-32-32z" fill="currentColor"></path></svg>',zoomIn:'<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path d="M945.066667 898.133333l-189.866667-189.866666c55.466667-64 87.466667-149.333333 87.466667-241.066667 0-204.8-168.533333-373.333333-373.333334-373.333333S96 264.533333 96 469.333333 264.533333 842.666667 469.333333 842.666667c91.733333 0 174.933333-34.133333 241.066667-87.466667l189.866667 189.866667c6.4 6.4 14.933333 8.533333 23.466666 8.533333s17.066667-2.133333 23.466667-8.533333c8.533333-12.8 8.533333-34.133333-2.133333-46.933334zM469.333333 778.666667C298.666667 778.666667 160 640 160 469.333333S298.666667 160 469.333333 160 778.666667 298.666667 778.666667 469.333333 640 778.666667 469.333333 778.666667z" fill="currentColor"></path><path d="M597.333333 437.333333h-96V341.333333c0-17.066667-14.933333-32-32-32s-32 14.933333-32 32v96H341.333333c-17.066667 0-32 14.933333-32 32s14.933333 32 32 32h96V597.333333c0 17.066667 14.933333 32 32 32s32-14.933333 32-32v-96H597.333333c17.066667 0 32-14.933333 32-32s-14.933333-32-32-32z" fill="currentColor"></path></svg>',reset:'<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path d="M149.333333 394.666667c17.066667 0 32-14.933333 32-32v-136.533334l187.733334 187.733334c6.4 6.4 14.933333 8.533333 23.466666 8.533333s17.066667-2.133333 23.466667-8.533333c12.8-12.8 12.8-32 0-44.8l-187.733333-187.733334H362.666667c17.066667 0 32-14.933333 32-32s-14.933333-32-32-32H149.333333c-4.266667 0-8.533333 0-10.666666 2.133334-8.533333 4.266667-14.933333 10.666667-19.2 17.066666-2.133333 4.266667-2.133333 8.533333-2.133334 12.8v213.333334c0 17.066667 14.933333 32 32 32zM874.666667 629.333333c-17.066667 0-32 14.933333-32 32v136.533334L642.133333 597.333333c-12.8-12.8-32-12.8-44.8 0s-12.8 32 0 44.8l200.533334 200.533334H661.333333c-17.066667 0-32 14.933333-32 32s14.933333 32 32 32h213.333334c4.266667 0 8.533333 0 10.666666-2.133334 8.533333-4.266667 14.933333-8.533333 17.066667-17.066666 2.133333-4.266667 2.133333-8.533333 2.133333-10.666667V661.333333c2.133333-17.066667-12.8-32-29.866666-32zM381.866667 595.2l-200.533334 200.533333V661.333333c0-17.066667-14.933333-32-32-32s-32 14.933333-32 32v213.333334c0 4.266667 0 8.533333 2.133334 10.666666 4.266667 8.533333 8.533333 14.933333 17.066666 17.066667 4.266667 2.133333 8.533333 2.133333 10.666667 2.133333h213.333333c17.066667 0 32-14.933333 32-32s-14.933333-32-32-32h-136.533333l200.533333-200.533333c12.8-12.8 12.8-32 0-44.8s-29.866667-10.666667-42.666666 0zM904.533333 138.666667c0-2.133333 0-2.133333 0 0-4.266667-8.533333-10.666667-14.933333-17.066666-17.066667-4.266667-2.133333-8.533333-2.133333-10.666667-2.133333H661.333333c-17.066667 0-32 14.933333-32 32s14.933333 32 32 32h136.533334l-187.733334 187.733333c-12.8 12.8-12.8 32 0 44.8 6.4 6.4 14.933333 8.533333 23.466667 8.533333s17.066667-2.133333 23.466667-8.533333l187.733333-187.733333V362.666667c0 17.066667 14.933333 32 32 32s32-14.933333 32-32V149.333333c-2.133333-4.266667-2.133333-8.533333-4.266667-10.666666z" fill="currentColor"></path></svg>',rotate:'<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path d="M992 158.912V371.2a12.8 12.8 0 0 1-12.8 12.8h-212.288a12.8 12.8 0 0 1-9.088-21.824L970.24 149.76a12.8 12.8 0 0 1 21.824 9.088z" fill="currentColor"></path><path d="M926.912 270.464A480 480 0 0 0 32 512a32 32 0 0 0 64 0 416 416 0 0 1 775.616-209.28 32 32 0 0 0 55.296-32.256zM44.48 621.312c5.248 22.4 12.032 44.224 20.352 65.536a32 32 0 1 0 59.584-23.36 412.544 412.544 0 0 1-17.6-56.704 32 32 0 0 0-62.336 14.528z m88.832 185.6c14.08 18.048 29.44 35.072 45.888 50.944a32 32 0 1 0 44.352-46.08 418.56 418.56 0 0 1-39.808-44.16 32 32 0 1 0-50.432 39.36z m158.08 131.52c20.352 10.496 41.408 19.584 63.04 27.136a32 32 0 0 0 21.056-60.48 413.376 413.376 0 0 1-54.592-23.488 32 32 0 0 0-29.44 56.832z m205.184 53.312l14.592 0.256c18.816 0 36.8-0.96 54.656-3.008a32 32 0 1 0-7.04-63.616c-10.368 1.216-20.8 1.92-31.36 2.368l-16.192 0.256-12.672-0.192a32 32 0 1 0-1.984 64z m202.752-37.696c21.12-8.96 41.472-19.392 61.056-31.232a32 32 0 1 0-33.152-54.72c-16.96 10.24-34.624 19.328-52.928 27.072a32 32 0 0 0 24.96 58.88z" fill="currentColor"></path><path d="M370.368 384c-32.64 0-59.712 9.92-81.792 30.208-22.016 19.84-32.576 44.8-32.576 75.904 0 30.144 9.152 54.72 28.032 73.728 19.264 19.392 45.44 29.312 77.568 29.312 17.024 0 32.128-3.456 45.44-9.472 13.824-6.912 25.728-16.832 34.944-30.208h1.856l0.448 5.632c0 29.76-6.912 54.784-19.776 74.624-13.76 20.672-31.68 31.488-54.144 31.488-33.088 0-53.312-15.104-59.712-44.864h-48.64c8.192 55.616 44.032 83.648 107.84 83.648 37.696 0 67.52-16 90.048-47.04 21.568-31.04 32.64-71.552 32.64-121.6 0-47.424-10.624-84.096-30.848-110.4C440.576 397.44 410.304 384 370.368 384z m1.792 38.784c19.328 0 35.392 6.08 47.744 18.112 11.968 11.648 18.368 27.648 18.368 47.872 0 19.84-5.952 36.288-17.92 48.32-11.904 12.096-28.416 18.112-48.64 18.112-20.672 0-36.736-6.016-48.192-18.112-12.416-11.648-18.368-27.136-18.368-46.976s5.952-35.84 18.368-48.32c11.904-12.928 28.48-19.008 48.64-19.008zM649.6 384c-38.592 0-68.48 15.104-89.6 45.696-19.2 28.032-28.864 65.984-28.864 114.304 0 47.872 9.6 85.824 28.928 114.304 21.12 30.144 50.944 45.696 89.536 45.696s68.416-15.552 89.536-45.696C758.336 629.76 768 591.36 768 544c0-47.872-9.6-85.824-28.928-114.304-21.12-30.592-50.944-45.696-89.6-45.696z m0 39.68c26.624 0 45.888 13.824 56.96 41.856 7.808 18.944 11.904 45.248 11.904 78.464 0 32.768-4.096 59.072-11.904 78.464-11.072 27.648-30.336 41.856-56.96 41.856-27.072 0-45.952-14.208-56.96-41.856-8.256-19.392-11.904-45.696-11.904-78.464 0-33.216 3.648-59.52 11.904-78.464 11.008-28.032 29.888-41.856 56.96-41.856z" fill="currentColor"></path></svg>',best:'<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path d="M970.837333 919.850667l-205.696-205.653334A382.421333 382.421333 0 0 0 853.333333 469.333333a384 384 0 0 0-384-384 384 384 0 0 0-384 384 384 384 0 0 0 384 384 382.421333 382.421333 0 0 0 244.906667-88.192l205.653333 205.653334a36.053333 36.053333 0 0 0 50.986667 0 36.266667 36.266667 0 0 0-0.042667-50.944z m-380.117333-162.986667c-38.4 16.256-79.189333 24.448-121.386667 24.448a311.296 311.296 0 0 1-220.586666-91.392A311.296 311.296 0 0 1 157.312 469.333333 311.296 311.296 0 0 1 248.746667 248.746667 311.296 311.296 0 0 1 469.333333 157.354667a311.296 311.296 0 0 1 220.586667 91.392A311.296 311.296 0 0 1 781.354667 469.333333a311.296 311.296 0 0 1-91.392 220.586667 310.186667 310.186667 0 0 1-99.242667 66.901333z" fill="currentColor"></path><path d="M280.490667 597.333333v-35.541333h47.488V422.016h-40.021334v-27.178667c22.101333-4.181333 37.333333-9.856 51.370667-18.517333h32.554667v185.472h41.514666V597.333333H280.490667z m199.808-109.312c-15.530667 0-27.178667-12.245333-27.178667-28.373333 0-16.426667 11.648-28.672 27.178667-28.672 15.829333 0 27.477333 12.245333 27.477333 28.672 0 16.128-11.648 28.373333-27.477333 28.373333z m0 113.493334c-15.530667 0-27.178667-12.544-27.178667-28.672 0-16.128 11.648-28.672 27.178667-28.672 15.829333 0 27.477333 12.544 27.477333 28.672 0 16.128-11.648 28.672-27.477333 28.672zM553.472 597.333333v-35.541333h47.488V422.016h-40.021333v-27.178667c22.101333-4.181333 37.333333-9.856 51.370666-18.517333h32.554667v185.472h41.514667V597.333333h-132.906667z" fill="currentColor"></path></svg>',download:'<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path d="M896 672c-17.066667 0-32 14.933333-32 32v128c0 6.4-4.266667 10.666667-10.666667 10.666667H170.666667c-6.4 0-10.666667-4.266667-10.666667-10.666667v-128c0-17.066667-14.933333-32-32-32s-32 14.933333-32 32v128c0 40.533333 34.133333 74.666667 74.666667 74.666667h682.666666c40.533333 0 74.666667-34.133333 74.666667-74.666667v-128c0-17.066667-14.933333-32-32-32z" fill="currentColor"></path><path d="M488.533333 727.466667c6.4 6.4 14.933333 8.533333 23.466667 8.533333s17.066667-2.133333 23.466667-8.533333l213.333333-213.333334c12.8-12.8 12.8-32 0-44.8-12.8-12.8-32-12.8-44.8 0l-157.866667 157.866667V170.666667c0-17.066667-14.933333-32-32-32s-34.133333 14.933333-34.133333 32v456.533333L322.133333 469.333333c-12.8-12.8-32-12.8-44.8 0-12.8 12.8-12.8 32 0 44.8l211.2 213.333334z" fill="currentColor"></path></svg>',modular:'<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path d="M405.333333 458.666667H149.333333c-29.866667 0-53.333333-23.466667-53.333333-53.333334V149.333333c0-29.866667 23.466667-53.333333 53.333333-53.333333h256c29.866667 0 53.333333 23.466667 53.333334 53.333333v256c0 29.866667-23.466667 53.333333-53.333334 53.333334z m-245.333333-64h234.666667v-234.666667h-234.666667v234.666667zM874.666667 458.666667H618.666667c-29.866667 0-53.333333-23.466667-53.333334-53.333334V149.333333c0-29.866667 23.466667-53.333333 53.333334-53.333333h256c29.866667 0 53.333333 23.466667 53.333333 53.333333v256c0 29.866667-23.466667 53.333333-53.333333 53.333334z m-245.333334-64h234.666667v-234.666667h-234.666667v234.666667zM874.666667 928H618.666667c-29.866667 0-53.333333-23.466667-53.333334-53.333333V618.666667c0-29.866667 23.466667-53.333333 53.333334-53.333334h256c29.866667 0 53.333333 23.466667 53.333333 53.333334v256c0 29.866667-23.466667 53.333333-53.333333 53.333333z m-245.333334-64h234.666667v-234.666667h-234.666667v234.666667zM405.333333 928H149.333333c-29.866667 0-53.333333-23.466667-53.333333-53.333333V618.666667c0-29.866667 23.466667-53.333333 53.333333-53.333334h256c29.866667 0 53.333333 23.466667 53.333334 53.333334v256c0 29.866667-23.466667 53.333333-53.333334 53.333333z m-245.333333-64h234.666667v-234.666667h-234.666667v234.666667z" fill="currentColor"></path></svg>'};class $3{constructor(t,e){d(this,"el");d(this,"oTransformX",0);d(this,"oTransformY",0);d(this,"transformX");d(this,"transformY");d(this,"zoom");d(this,"rotate");d(this,"STEP",.25);d(this,"MIN_SCALE",.2);d(this,"MAX_SCALE",2.5);d(this,"TRANSFORM_X",0);d(this,"TRANSFORM_Y",0);d(this,"ZOOM",1);d(this,"ROTATE",0);d(this,"callback");this.el=t,this.transformX=(e==null?void 0:e.transformX)||this.TRANSFORM_X,this.transformY=(e==null?void 0:e.transformY)||this.TRANSFORM_Y,this.zoom=(e==null?void 0:e.zoom)||this.ZOOM,this.rotate=(e==null?void 0:e.rotate)||this.ROTATE,this.callback=e==null?void 0:e.callback,this.handleDefaultDraggable(),this.onDraggable(),this.onMouseWheel()}handleDefaultDraggable(){document.body.ondragstart=t=>(t.returnValue=!1,t.preventDefault(),!1)}onDraggable(){this.el.onmousedown=t=>{const e=t.clientX,o=t.clientY;document.onmousemove=n=>{const a=n.clientX-e,r=n.clientY-o;this.transformX=this.oTransformX+a,this.transformY=this.oTransformY+r,this.el.style.cursor="grabbing",this.setPosition()}},document.onmouseup=()=>{document.onmousemove=null,this.oTransformX=this.transformX,this.oTransformY=this.transformY,this.el.style.cursor="grab"}}onMouseWheel(){const t=this.throttle(this.setMouseWheel,100);this.el.onwheel=e=>{const o=e.deltaY||e.detail;t(o)}}throttle(t,e){let o=null;return(...n)=>{o||(o=setTimeout(()=>{o=null,t.apply(this,n)},e))}}setMouseWheel(t){if(t<0){if(this.zoom>=this.MAX_SCALE){this.el.style.cursor="not-allowed";return}this.el.style.cursor="zoom-in",this.setZoomIn(this.STEP)}else{if(this.zoom<=this.MIN_SCALE){this.el.style.cursor="not-allowed";return}this.el.style.cursor="zoom-out",this.setZoomOut(this.STEP)}this.setPosition()}setZoomIn(t=this.STEP){var e;this.zoom=Math.min(this.MAX_SCALE,this.zoom+t),this.setPosition(),(e=this.callback)==null||e.call(this,this.zoom)}setZoomOut(t=this.STEP){var e;this.zoom=Math.max(this.MIN_SCALE,this.zoom-t),this.setPosition(),(e=this.callback)==null||e.call(this,this.zoom)}setZoomBest(){var v;const t=this.rotate/.25%2===0,{clientWidth:e,clientHeight:o}=this.el,{clientWidth:n=0,clientHeight:a=0}=this.el.parentElement||{},r=(...h)=>[Math.min(...h),Math.max(...h)],[i,u]=r(e,o),[m,w]=r(n-32,a-32),g=+(n/a).toFixed(4),f=+(t?e/o:o/e).toFixed(4),p=g>1&&f>1?g>f?m/i:w/u:g<f?f>1?1:m/i:g>1?m/u:m/i;this.transformX=this.TRANSFORM_X,this.transformY=this.TRANSFORM_Y,this.zoom=Math.min(this.MAX_SCALE,p),this.setPosition(),(v=this.callback)==null||v.call(this,this.zoom)}setZoomOriginal(){this.reset(),this.setPosition()}setRotate(){this.rotate+=.25,this.setPosition()}reset(){var t;this.transformX=this.TRANSFORM_X,this.transformY=this.TRANSFORM_Y,this.oTransformX=this.transformX,this.oTransformY=this.transformY,this.zoom=this.ZOOM,(t=this.callback)==null||t.call(this,this.zoom)}setPosition(){this.el.style.transform=`translate(${this.transformX}px, ${this.transformY}px) scale(${this.zoom}) rotate(${this.rotate}turn)`}}const D3=["src"],O3=["disabled","innerHTML"],R3=["disabled","innerHTML"],Z3=["innerHTML"],V3=["disabled","innerHTML"],B3=["disabled","innerHTML"],W3=["innerHTML"],N3=["innerHTML"],X3=["innerHTML"],Y3=["innerHTML"],F3=["innerHTML"],U3=["onClick"],q3=["src"],j3=B({__name:"image-preview",props:{url:{type:String,default:"",required:!0},previewUrlList:{type:Array,default:()=>[],required:!0},zIndex:{type:Number,required:!1},backDropZIndex:{type:Number,required:!1}},setup(s){const t=s,e=H3("image-preview");let o=null;const n=D(0),a=c3(()=>t.previewUrlList[n.value]),r=D(1),i=t.zIndex?{zIndex:t.zIndex}:{},u=t.backDropZIndex?{zIndex:t.backDropZIndex}:{},m=()=>{const _=document.querySelector(`.${e.e("main-image")}`);o=new $3(_,{callback:W=>{r.value=W}})},w=()=>{n.value=t.previewUrlList.findIndex(_=>_===t.url)},g=()=>{n.value=n.value<=0?t.previewUrlList.length-1:n.value-1,o==null||o.setZoomOriginal()},f=()=>{n.value=n.value>=t.previewUrlList.length-1?0:n.value+1,o==null||o.setZoomOriginal()},p=()=>I.close(),v=()=>o==null?void 0:o.setZoomIn(),h=()=>o==null?void 0:o.setZoomOut(),b=()=>o==null?void 0:o.setRotate(),T=()=>o==null?void 0:o.setZoomBest(),x=()=>o==null?void 0:o.setZoomOriginal(),M=_=>{_.defaultPrevented||(_.code==="Escape"?p():_.code==="ArrowLeft"?g():_.code==="ArrowRight"&&f())},z=()=>document.addEventListener("keydown",M,!1),E=()=>document.removeEventListener("keydown",M,!1),a3=_=>{n.value=_},H=D(!1),r3=()=>{H.value=!H.value};return K(()=>{w(),m(),z()}),h3(()=>{E()}),(_,W)=>{var N,X;return L(),A(Z,null,[c("div",{class:C(l(e).b()),style:U(l(i))},[c("img",{class:C(l(e).e("main-image")),src:l(a),alt:""},null,10,D3),c("div",{class:C(l(e).e("toolbar"))},[c("div",{class:C(l(e).e("toolbar-left"))},[c("button",{disabled:n.value===0,onClick:g,innerHTML:l(y).left},null,8,O3),c("button",null,[c("span",null,P(n.value+1)+"/"+P(t.previewUrlList.length),1)]),c("button",{disabled:n.value===((N=t.previewUrlList)==null?void 0:N.length)-1,onClick:f,innerHTML:l(y).right},null,8,R3),((X=t.previewUrlList)==null?void 0:X.length)>2?(L(),A("button",{key:0,onClick:r3},[c("i",{innerHTML:l(y).modular},null,8,Z3)])):F("",!0)],2),c("div",{class:C(l(e).e("toolbar-middle"))},[c("button",{disabled:r.value>=2.5,onClick:v,innerHTML:l(y).zoomIn},null,8,V3),c("button",null,[c("span",null,P(Math.round(r.value*100))+"%",1)]),c("button",{disabled:r.value<=.2,onClick:h,innerHTML:l(y).zoomOut},null,8,B3),c("button",{onClick:b,innerHTML:l(y).rotate},null,8,W3),c("button",{onClick:x,innerHTML:l(y).best},null,8,N3),c("button",{onClick:T,innerHTML:l(y).reset},null,8,X3),R(c("button",{innerHTML:l(y).download},null,8,Y3),[[l(S3),{src:l(a)}]])],2),c("div",{class:C(l(e).e("toolbar-right"))},[c("button",{onClick:p,innerHTML:l(y).close},null,8,F3)],2)],2),G(m3,{name:"thumbnail"},{default:u3(()=>[H.value?(L(),A("div",{key:0,class:C(l(e).e("thumbnail"))},[(L(!0),A(Z,null,d3(t.previewUrlList,(Y,$)=>(L(),A("div",{key:Y,class:C([l(e).e("thumbnail-item"),$===n.value?"active":""]),onClick:_6=>a3($)},[c("img",{src:Y,alt:""},null,8,q3),c("span",null,P($+1),1)],10,U3))),128))],2)):F("",!0)]),_:1})],6),c("div",{class:C(l(e).e("bg")),style:U(l(u))},null,6)],64)}}});const K3=J(j3,[["__scopeId","data-v-85bd49ba"]]),G3=s=>v3(K3,s);class I{static open(t){this.$body=document.body,this.$div=document.createElement("div"),this.$overflow=this.$body.style.overflow,this.$body.appendChild(this.$div),G3(t).mount(this.$div),this.$body.style.setProperty("overflow","hidden","important")}static close(){var t,e;(t=this.$body)==null||t.style.setProperty("overflow",this.$overflow),this.$overflow="",this.$div&&((e=this.$body)==null||e.removeChild(this.$div)),this.$body=null,this.$div=null}}d(I,"$body",null),d(I,"$div",null),d(I,"$overflow","");const e3=s=>{I.open({url:s.url,previewUrlList:s.previewUrlList,zIndex:s.zIndex,backDropZIndex:s.backDropZIndex})},j=()=>{I.close()},s3=s=>{let t=null;return s.scopeSelector&&(t=document.querySelector(s.scopeSelector)),[...(t||s).querySelectorAll("img")].map(o=>o.getAttribute("preview-src")||o.getAttribute("src")||"")},o3=s=>{var o;s.stopPropagation();const t=s.currentTarget,e=s.target;if(((o=e==null?void 0:e.nodeName)==null?void 0:o.toLowerCase())==="img"){const n=s3(t),a=e.getAttribute("src");e3({url:a,previewUrlList:n,zIndex:t==null?void 0:t.zIndex,backDropZIndex:t==null?void 0:t.backDropZIndex})}},O=s=>{s.addEventListener("click",o3)},J3=s=>{s.removeEventListener("click",o3)},Q3={mounted(s,t){if(!(t!=null&&t.value))return O(s);const{custom:e,disableDefault:o,scopeSelector:n}=t.value;s.scopeSelector=n,e&&(e.open=()=>{const a=s3(s);e3({url:a==null?void 0:a[0],previewUrlList:a,zIndex:s==null?void 0:s.zIndex,backDropZIndex:s==null?void 0:s.backDropZIndex})},e.close=()=>j()),!o&&O(s)},unmounted(){j()},updated(s,t){var e,o;if(s.zIndex=(e=t.value)==null?void 0:e.zIndex,s.backDropZIndex=(o=t.value)==null?void 0:o.backDropZIndex,t.value){const{value:{disableDefault:n},oldValue:a}=t,{disableDefault:r}=a||{};n!==r&&(n?J3(s):O(s))}}},t6=(s,t,e)=>{const o="vite-press__water-mask",n=document.getElementById(o);if(n)return n;const a=document.createElement("div");a.setAttribute("id",o);const{position:r,opacity:i,left:u,top:m}=e,w={position:r,left:0,top:0,width:"100%",height:"100%",zIndex:9999,pointerEvents:"none",opacity:i,backgroundImage:`url( ${t} )`,backgroundPosition:`${u}px ${m}px`,backgroundRepeat:"repeat"};return Object.assign(a.style,w),s.appendChild(a),a},e6=(s,t)=>{new MutationObserver(o=>{o.forEach(n=>{switch(n.type){case"childList":n.removedNodes.forEach(r=>{var i;return(i=n.target)==null?void 0:i.appendChild(r)});break;case"attributes":n.target.getAttribute("style")!==t&&n.target.setAttribute("style",t??"");break}})}).observe(s,{attributes:!0,childList:!0,subtree:!0,attributeOldValue:!0})},s6=async(s,t)=>{const e=(v,h,b)=>{let T=0,x=v.length-1;for(;T<=x;){const M=Math.floor((T+x)/2),z=b.measureText(v.substring(0,M)).width,E=b.measureText(v.substring(0,M+1)).width;if(z<=h&&E>h)return M;z<h?T=M+1:x=M-1}return-1},o=(v,h,b,T)=>{const x=[];let M=b;v.font=T;let z=e(h,b,v);for(;z!==-1;)x.push(h.substring(0,z)),h=h.substring(z),M=b,z=e(h,b,v);if(h){x.push(h);const E=v.measureText(h).width;M=Math.max(b,E)}return{textArr:x,maxWidth:M}},{textArr:n,maxWidth:a,font:r,fillStyle:i,lineHeight:u}=t;let m=[];const w=[];n.forEach(v=>{const{textArr:h,maxWidth:b}=o(s,v,a,r);m=m.concat(h),w.push(b)});const g=Math.max(...w),f=m.length*u;return{width:g,height:f,execute:()=>{s.font=r,s.fillStyle=i,s.textBaseline="hanging",m.forEach((v,h)=>{s.fillText(v,0,u*h)})}}},o6=async(s,t)=>{const e=g=>new Promise(f=>{const p=new Image;p.src=g,p.onload=()=>f(p)}),{minWidth:o,maxWidth:n,src:a}=t,r=await e(a),{clientWidth:i,clientHeight:u}=r,m=i/u;r.width=Math.max(Math.min(i,n),o),r.height=r.width*m;const w=()=>{s.drawImage(r,0,0)};return{width:r.width,height:r.height,execute:w}},n6=async(s,t)=>{const e=s.getContext("2d");if(!e)return;const{width:o,height:n,execute:a}=t.drawType==="text"?await s6(e,t):await o6(e,t),r=i6(s,o,n,t);return a(),a6(r)},a6=s=>{var e;const t=s.toDataURL("image/png");return(e=s.parentNode)==null||e.removeChild(s),t},r6=()=>{const s=document.createElement("canvas");return s.style.display="none",document.body.appendChild(s),s},i6=(s,t,e,o)=>{const{deg:n,marginRight:a,marginBottom:r}=o,i=Math.PI*n/180,u=Math.abs(i),m=e*Math.sin(u),w=e*Math.cos(u),g=t*Math.sin(u),f=t*Math.cos(u);s.width=Math.round(m+f+a),s.height=Math.round(g+w+r);const p=s.getContext("2d");return p==null||p.translate(0,g),p==null||p.rotate(i),s},l6={textArr:["vite-press","开发笔记"],font:"200 12px Helvetica",fillStyle:"rgba(170,170,170,0.5)",maxWidth:200,minWidth:120,lineHeight:16,deg:-45,marginRight:120,marginBottom:40,left:20,top:20,opacity:.75,position:"absolute",drawType:"text"},c6={async beforeMount(s,{value:t}){const e={...l6,...t},o=r6(),n=await n6(o,e),a=t6(s,n||"",e);e6(s,a.getAttribute("style"))}},h6={class:"image-preview"},u6=["src"],d6={class:"image-water-mask"},m6=B({__name:"ImagePreview",props:{src:null},setup(s){const t=Q3,e=c6;return(o,n)=>(L(),A(Z,null,[R((L(),A("div",h6,[c("img",{src:s.src,alt:""},null,8,u6)])),[[l(t),{scopeSelector:".VPDoc .main"}]]),R(c("div",d6,null,512),[[l(e)]])],64))}});const v6=J(m6,[["__scopeId","data-v-583942a3"]]);const p6={...q,Layout:()=>{var t;const s=Q();return p3(g6).catch(e=>console.error(e)),t3(q.Layout,{class:(t=s.frontmatter.value)==null?void 0:t.layoutClass})}},g6=()=>{if(!globalThis.document)return;document.querySelectorAll("p > img").forEach(t=>{const e=t.parentElement;if(!e)return;let o;e.childNodes.length>1?(o=document.createElement("div"),e.appendChild(o)):o=e;const n=G(v6,{src:t.getAttribute("src")});t.remove(),g3(n,o)})};function n3(s){if(s.extends){const t=n3(s.extends);return{...t,...s,async enhanceApp(e){t.enhanceApp&&await t.enhanceApp(e),s.enhanceApp&&await s.enhanceApp(e)}}}return s}const k=n3(p6),f6=B({name:"VitePressApp",setup(){const{site:s}=Q();return K(()=>{w3(()=>{document.documentElement.lang=s.value.lang,document.documentElement.dir=s.value.dir})}),b3(),M3(),_3(),k.setup&&k.setup(),()=>t3(k.Layout)}});async function w6(){const s=M6(),t=b6();t.provide(y3,s);const e=x3(s.route);return t.provide(z3,e),t.component("Content",C3),t.component("ClientOnly",T3),Object.defineProperties(t.config.globalProperties,{$frontmatter:{get(){return e.frontmatter.value}},$params:{get(){return e.page.value.params}}}),k.enhanceApp&&await k.enhanceApp({app:t,router:s,siteData:L3}),{app:t,router:s,data:e}}function b6(){return A3(f6)}function M6(){let s=V,t;return I3(e=>{let o=k3(e);return s&&(t=o),(s||t===o)&&(o=o.replace(/\.js$/,".lean.js")),V&&(s=!1),E3(()=>import(o),[])},k.NotFound)}V&&w6().then(({app:s,router:t,data:e})=>{t.go().then(()=>{f3(t.route,e.site),s.mount("#app")})});export{w6 as createApp};
