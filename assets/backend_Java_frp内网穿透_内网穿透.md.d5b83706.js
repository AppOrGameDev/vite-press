import{_ as a,o as e,c as s,U as n}from"./chunks/framework.c0c21d38.js";const r="/vite-press/assets/Snipaste_2023-10-07_14-31-12.40e8f84d.jpg",l="/vite-press/assets/Snipaste_2023-10-07_14-41-30.b77c85ef.jpg",p="/vite-press/assets/Snipaste_2023-10-07_15-48-46.d27a69cd.jpg",t="/vite-press/assets/singcheer_frps_ini.e6aae2d8.jpg",o="/vite-press/assets/Snipaste_2023-10-07_17-15-11.571bb085.jpg",i="/vite-press/assets/Snipaste_2023-10-07_17-45-19.63036508.jpg",k=JSON.parse('{"title":"frp内网穿透","description":"","frontmatter":{},"headers":[],"relativePath":"backend/Java/frp内网穿透/内网穿透.md","filePath":"backend/Java/frp内网穿透/内网穿透.md","lastUpdated":1701587179000}'),c={name:"backend/Java/frp内网穿透/内网穿透.md"},h=n('<h1 id="frp内网穿透" tabindex="-1">frp内网穿透 <a class="header-anchor" href="#frp内网穿透" aria-label="Permalink to &quot;frp内网穿透&quot;">​</a></h1><h2 id="简介" tabindex="-1">简介 <a class="header-anchor" href="#简介" aria-label="Permalink to &quot;简介&quot;">​</a></h2><blockquote><p>A fast reverse proxy to help you expose a local server behind a NAT or firewall to the internet. 一个快速的反向代理，可以帮助您将NAT或防火墙后面的本地服务器暴露给互联网。</p><p>frp使用GO语言写的</p><p>看是否有比frp更高性能，更稳定的开源的内网穿透工具。</p></blockquote><h2 id="原理图解" tabindex="-1">原理图解 <a class="header-anchor" href="#原理图解" aria-label="Permalink to &quot;原理图解&quot;">​</a></h2><p><img src="'+r+'" alt=""></p><h2 id="目标" tabindex="-1">目标 <a class="header-anchor" href="#目标" aria-label="Permalink to &quot;目标&quot;">​</a></h2><ul><li>外网的设备/服务要访问内网的服务，通过一个内网穿透的代理，将内网的主机端口暴露到外部。</li><li>不在同一网段的设备/服务，局域网A中的服务A1要访问局域网B中的服务B1，（限制条件局域网A和局域网B网络不通；但是他们都和局域网C或者公网网络相通）这时就可以将代理服务部署到局域网C或者公网。</li></ul><h2 id="事先准备" tabindex="-1">事先准备 <a class="header-anchor" href="#事先准备" aria-label="Permalink to &quot;事先准备&quot;">​</a></h2><ul><li>公网IP</li><li>公网服务器（用于部署frp服务）</li><li>项目仓库 <a href="https://github.com/fatedier/frp" target="_blank" rel="noreferrer">https://github.com/fatedier/frp</a></li><li>文档 <a href="https://gofrp.org/docs/" target="_blank" rel="noreferrer">https://gofrp.org/docs/</a></li><li>软件包 <a href="https://github.com/fatedier/frp/releases/" target="_blank" rel="noreferrer">https://github.com/fatedier/frp/releases/</a></li></ul><p><img src="'+l+'" alt=""></p><h2 id="学习教程" tabindex="-1">学习教程 <a class="header-anchor" href="#学习教程" aria-label="Permalink to &quot;学习教程&quot;">​</a></h2><p><a href="https://blog.csdn.net/qq_36981760/article/details/115713179" target="_blank" rel="noreferrer">https://blog.csdn.net/qq_36981760/article/details/115713179</a></p><p><a href="https://cloud.tencent.com/developer/article/1837482" target="_blank" rel="noreferrer">https://cloud.tencent.com/developer/article/1837482</a></p><p><a href="https://blog.csdn.net/jiuweideqixu/article/details/120167410" target="_blank" rel="noreferrer">https://blog.csdn.net/jiuweideqixu/article/details/120167410</a></p><p><a href="https://www.cnblogs.com/EngCM/p/12690158.html" target="_blank" rel="noreferrer">https://www.cnblogs.com/EngCM/p/12690158.html</a></p><h2 id="内网穿透工具比较" tabindex="-1">内网穿透工具比较 <a class="header-anchor" href="#内网穿透工具比较" aria-label="Permalink to &quot;内网穿透工具比较&quot;">​</a></h2><p><a href="https://blog.csdn.net/a1035434631/article/details/108010819" target="_blank" rel="noreferrer">https://blog.csdn.net/a1035434631/article/details/108010819</a></p><p><img src="'+p+'" alt=""></p><p><a href="https://alianga.com/articles/nas-contrast" target="_blank" rel="noreferrer">https://alianga.com/articles/nas-contrast</a></p><blockquote><p>vip72 和 v2ray 都是商业软件,稳定性高,nps 稳定性较弱。</p></blockquote><h1 id="nginx内网穿透" tabindex="-1">Nginx内网穿透 <a class="header-anchor" href="#nginx内网穿透" aria-label="Permalink to &quot;Nginx内网穿透&quot;">​</a></h1><blockquote><p>Nginx无法单独实现内网穿透，要么搭配SSH通道（网络协议限制了ssh，不能支持http/https）；要么就搭配frp。</p></blockquote><h2 id="学习教程-1" tabindex="-1">学习教程 <a class="header-anchor" href="#学习教程-1" aria-label="Permalink to &quot;学习教程&quot;">​</a></h2><p><a href="https://blog.csdn.net/qq_43825308/article/details/103652595" target="_blank" rel="noreferrer">https://blog.csdn.net/qq_43825308/article/details/103652595</a></p><p><a href="https://www.jianshu.com/p/99d8ea7b54f3" target="_blank" rel="noreferrer">https://www.jianshu.com/p/99d8ea7b54f3</a></p><h1 id="使用java实现内网穿透" tabindex="-1">使用Java实现内网穿透 <a class="header-anchor" href="#使用java实现内网穿透" aria-label="Permalink to &quot;使用Java实现内网穿透&quot;">​</a></h1><h2 id="那就是将frp的功能使用java代码实现一遍" tabindex="-1">那就是将frp的功能使用java代码实现一遍 <a class="header-anchor" href="#那就是将frp的功能使用java代码实现一遍" aria-label="Permalink to &quot;那就是将frp的功能使用java代码实现一遍&quot;">​</a></h2><h1 id="frp内网穿透案例搭建" tabindex="-1">frp内网穿透案例搭建 <a class="header-anchor" href="#frp内网穿透案例搭建" aria-label="Permalink to &quot;frp内网穿透案例搭建&quot;">​</a></h1><h2 id="公网域名和ip" tabindex="-1">公网域名和IP <a class="header-anchor" href="#公网域名和ip" aria-label="Permalink to &quot;公网域名和IP&quot;">​</a></h2><blockquote><p>curl -v testfrpc.permde.com:7000</p><p>curl -v 47.92.140.158:7000</p></blockquote><p><img src="'+t+'" alt=""></p><h2 id="本地搭建案例" tabindex="-1">本地搭建案例 <a class="header-anchor" href="#本地搭建案例" aria-label="Permalink to &quot;本地搭建案例&quot;">​</a></h2><p><img src="'+o+`" alt=""></p><h2 id="开启frp管理台-开启token验证" tabindex="-1">开启frp管理台，开启token验证 <a class="header-anchor" href="#开启frp管理台-开启token验证" aria-label="Permalink to &quot;开启frp管理台，开启token验证&quot;">​</a></h2><p>启动frp服务端和客户端都要指定配置文件</p><p><code>frps.ini案例</code></p><div class="language-txt line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">[common]</span></span>
<span class="line"><span style="color:#A6ACCD;">bind_port = 7000</span></span>
<span class="line"><span style="color:#A6ACCD;">dashboard_port = 7500</span></span>
<span class="line"><span style="color:#A6ACCD;">dashboard_user = admin</span></span>
<span class="line"><span style="color:#A6ACCD;">dashboard_pwd = admin</span></span>
<span class="line"><span style="color:#A6ACCD;">authentication_method = token</span></span>
<span class="line"><span style="color:#A6ACCD;">authenticate_new_work_conns = true</span></span>
<span class="line"><span style="color:#A6ACCD;">token = changeme123</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><code>frpc.ini案例</code></p><div class="language-txt line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">[common]</span></span>
<span class="line"><span style="color:#A6ACCD;">server_addr = 127.0.0.1</span></span>
<span class="line"><span style="color:#A6ACCD;">server_port = 7000</span></span>
<span class="line"><span style="color:#A6ACCD;">authentication_method = token</span></span>
<span class="line"><span style="color:#A6ACCD;">authenticate_new_work_conns = true</span></span>
<span class="line"><span style="color:#A6ACCD;">token = changeme123</span></span>
<span class="line"><span style="color:#A6ACCD;">tls_enable = true</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">[website]</span></span>
<span class="line"><span style="color:#A6ACCD;">type = tcp</span></span>
<span class="line"><span style="color:#A6ACCD;">local_ip = 127.0.0.1</span></span>
<span class="line"><span style="color:#A6ACCD;">local_port = 9981</span></span>
<span class="line"><span style="color:#A6ACCD;">remote_port = 9982</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">[si-mes]</span></span>
<span class="line"><span style="color:#A6ACCD;">type = tcp</span></span>
<span class="line"><span style="color:#A6ACCD;">local_ip = 127.0.0.1</span></span>
<span class="line"><span style="color:#A6ACCD;">local_port = 8026</span></span>
<span class="line"><span style="color:#A6ACCD;">remote_port = 9026</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p><code>cmd</code></p><div class="language-cmd line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">cmd</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">frps.exe </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">c frps.ini</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">frpc.exe </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">c frpc.ini</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><code>shell</code></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">frps</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-c</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">frps.ini</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">frpc</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-c</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">frpc.ini</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="frp后台管理" tabindex="-1">frp后台管理 <a class="header-anchor" href="#frp后台管理" aria-label="Permalink to &quot;frp后台管理&quot;">​</a></h3><p><a href="http://127.0.0.1:7500/static/#/" target="_blank" rel="noreferrer">http://127.0.0.1:7500/static/#/</a></p><p><img src="`+i+'" alt=""></p><h2 id="通过frp暴露rabbitmq" tabindex="-1">通过frp暴露RabbitMQ <a class="header-anchor" href="#通过frp暴露rabbitmq" aria-label="Permalink to &quot;通过frp暴露RabbitMQ&quot;">​</a></h2><h2 id="frp管理面板frpmgr" tabindex="-1">frp管理面板frpMgr <a class="header-anchor" href="#frp管理面板frpmgr" aria-label="Permalink to &quot;frp管理面板frpMgr&quot;">​</a></h2><p><a href="https://github.com/Zo3i/frpMgr/blob/master/README_zh.md" target="_blank" rel="noreferrer">https://github.com/Zo3i/frpMgr/blob/master/README_zh.md</a></p><p><code>git clone git@github.com:Zo3i/frpMgr.git</code></p><p><a href="https://developer.aliyun.com/article/749885" target="_blank" rel="noreferrer">https://developer.aliyun.com/article/749885</a></p><p><a href="https://gitee.com/zhlh6/frpMgr" target="_blank" rel="noreferrer">https://gitee.com/zhlh6/frpMgr</a></p><p><a href="https://cloud.tencent.com/developer/article/1829891" target="_blank" rel="noreferrer">https://cloud.tencent.com/developer/article/1829891</a></p><p><a href="https://cloud.tencent.com/developer/article/1834068" target="_blank" rel="noreferrer">https://cloud.tencent.com/developer/article/1834068</a></p><p><a href="https://www.moerats.com/archives/958/" target="_blank" rel="noreferrer">https://www.moerats.com/archives/958/</a></p><p>windows版本frpMgr</p><p><a href="https://www.cnblogs.com/xiaohi/p/15226841.html" target="_blank" rel="noreferrer">https://www.cnblogs.com/xiaohi/p/15226841.html</a></p>',57),b=[h];function d(m,u,f,_,g,C){return e(),s("div",null,b)}const y=a(c,[["render",d]]);export{k as __pageData,y as default};
